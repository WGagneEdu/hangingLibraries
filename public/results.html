<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Search Results â€“ Hanging Libraries</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<div class="navbar">
  <button class="nav-btn" onclick="location.href='index.html'">ğŸ› HOME</button>
  <button class="nav-btn" onclick="location.href='search.html'">ğŸ” SEARCH</button>
  <button class="nav-btn" onclick="location.href='browse.html'">â˜° BROWSE</button>

  <button class="nav-btn" id="staffBtn">ğŸ›  STAFF</button>
  <button class="nav-btn" id="profileBtn">ğŸ‘¤ PROFILE</button>
  <button class="nav-btn" id="loginLogoutBtn">ğŸ” LOGIN</button>
</div>

<div class="page-title search-title">SEARCH RESULTS</div>
<div id="searchTermDisplay" class="search-term"></div>
<div id="resultsContainer" class="results-grid"></div>

<script src="app.js"></script>
<script>
async function loadSearchResults() {
  const query = getQueryParam("query") || "";
  const termDiv = document.getElementById("searchTermDisplay");
  const container = document.getElementById("resultsContainer");

  termDiv.textContent = query ? `Results for: "${query}"` : "No search term provided.";
  if (!query) return;

  const data = await apiGET("/api/results?query=" + encodeURIComponent(query));
  container.innerHTML = "";
  if (!data.success || !data.data || data.data.length === 0) {
    container.innerHTML = "<p>No results found.</p>";
    return;
  }

  container.innerHTML = data.data.map(renderBookCard).join("");
}

document.addEventListener("DOMContentLoaded", () => {
  setupNavbar();
  loadSearchResults();
});
</script>

</body>
</html>
